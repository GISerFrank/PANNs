---

## 详细文件说明

我们将输出文件分为三类：**原始数据**、**元数据**和**可视化图表**。

### 1. 原始数据文件 (`.npy`)

这些文件以 NumPy 的二进制格式 `.npy` 保存，包含了模型推断出的最原始、最完整的数据，是进行任何定量分析的基础。你可以使用 `numpy.load()` 函数来加载它们。

-   **`clipwise_output.npy`**
    -   **内容**: **音频内容标签 (Audio Tagging)** 的核心结果。
    -   **形状**: `(1, 527)`
    -   **解释**: 这是一个一维数组，包含527个浮点数，每个数值对应一个声音类别，代表该声音类别在**整个音频片段**中存在的概率。这个结果用于宏观地判断音频里“有什么”。

-   **`framewise_output.npy`**
    -   **内容**: **声音事件检测 (Sound Event Detection)** 的核心结果。
    -   **形状**: `(N, 527)`，其中 `N` 是音频的总帧数。
    -   **解释**: 这是一个二维数组，记录了在**每一帧**（一个极短的时间片）上，527个声音类别各自的出现概率。这个结果用于精确定位“什么时候发生了什么”。

-   **`embedding.npy`**
    -   **内容**: 音频的**嵌入向量**，也常被称为“声学指纹”。
    -   **形状**: `(1, 2048)`
    -   **解释**: 这是一个高维向量，是 PANNs 模型对整个音频片段内容的高度浓缩表示。它不直接告诉我们类别，但包含了丰富的声学特征。主要用于计算不同音频之间的相似度、进行音频检索或聚类分析。

### 2. 元数据文件 (`.json`)

-   **`metadata.json`**
    -   **内容**: 本次分析的所有配置和环境信息。
    -   **目的**: **保证实验的可复现性**。通过这个文件，你可以准确地知道这个结果是在什么时间、用什么模型、对哪个文件进行分析得到的。
    -   **字段说明**:
        -   `source_audio_path`: 原始音频文件的绝对路径。
        -   `sample_rate`: 分析时使用的采样率（例如 `32000`）。
        -   `audio_duration_seconds`: 音频的总时长（秒）。
        -   `model_checkpoint_at`: Audio Tagging 任务使用的模型检查点路径。
        -   `model_checkpoint_sed`: Sound Event Detection 任务使用的模型检查点路径。
        -   `analysis_timestamp`: 本次分析执行的具体时间（ISO 8601 格式）。

### 3. 可视化图表 (`.png`)

这些图表是根据原始数据生成的，旨在提供直观的、人类可读的分析结果。

-   **`1_audio_tagging_barchart.png`**
    -   **内容**: Top-10 音频标签条形图。
    -   **解读**: 展示了对整个音频片段总结性最强的10个声音标签及其概率。可以让你在3秒内快速了解音频的核心内容。

-   **`2_sed_line_plot.png`**
    -   **内容**: 声音事件检测曲线图。
    -   **解读**: 绘制了在音频中平均概率最高的5个声音事件随时间变化的概率曲线。适合观察主要声音事件的强度起伏。

-   **`3_sed_pianoroll.png`**
    -   **内容**: 声音事件检测热力图（钢琴卷帘图）。
    -   **解读**: 这是一种信息密度非常高的可视化。X轴是时间，Y轴是声音类别，颜色的深浅代表事件在该时刻发生的概率。可以非常直观地看出**哪些事件在同时发生**（垂直方向上的深色块）以及各自的持续时间。

-   **`4_event_timeline.png`**
    -   **内容**: 事件发生时间轴图。
    -   **解读**: 当一个事件的概率超过设定的阈值（默认为0.5）时，就在其对应的时间轴上绘制一个色块。这张图最直接地回答了“**某个具体事件从第几帧开始，到第几帧结束**”这个问题。

---